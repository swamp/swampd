struct Server {
    timer_calls: Int,
}

struct Upload {
	i: Int,
}

impl Server {

    #[host_call]
    fn timer(mut self) {
        self.timer_calls += 1
        print('timer called! time:{self.timer_calls}')
    }

		#[host_call]
		fn on_upload(mut self, upload: Upload) {
			print('on upload {upload} time:{self.timer_calls}')
		}

}

#[host_call]
fn main() -> Server {

    print('server boot up')

    Server {..}
}
