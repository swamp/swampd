struct Server {
    timer_calls: Int,
}

enum ToServerMessage {
    Upload Int
}

impl Server {

    #[host_call]
    fn timer(mut self) {
        self.timer_calls += 1
        print('timer called! time:{self.timer_calls}')
    }

    #[host_call]
    fn on_msg(mut self, msg: ToServerMessage) {
        print('on msg {msg} time:{self.timer_calls}')
    }

}

#[host_call]
fn main() -> Server {

    print('server boot up')

    Server {..}

}
